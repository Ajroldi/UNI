## Note Amministrative e Logistica del Corso
- La registrazione della sessione precedente non Ã¨ stata avviata per distrazione; l'istruttore recupererÃ  un'edizione precedente che copre contenuti simili e la caricherÃ  su WeBeep.
- Tutti gli esercizi e le domande settimanali sono pubblicati su WeBeep; gli studenti dovrebbero leggere il testo condiviso lÃ¬.
- Protocollo di commenti su WeBeep:
  - Aggiungere "corretto," "sbagliato," o "controlla" nei commenti sotto la propria consegna.
  - Usare "controlla" solo quando necessario; l'istruttore lo esaminerÃ . Se marcato "sbagliato," il file non verrÃ  aperto. Se non Ã¨ scritto nulla, implica che non ti sei auto-confrontato con la soluzione; l'istruttore farÃ  un controllo attento.
- I laboratori sono fissi nel calendario e non cambieranno. Il piano del corso Ã¨ provvisorio e puÃ² variare a causa di eventi imprevisti.
- Convenzione di classificazione usata nei problemi: progetti classificati in prestazioni decrescenti per indice, con l'indice minimo (1) che Ã¨ il migliore.
- Gli studenti possono aprire i microfoni per domande durante gli esercizi.
- Brevi pause sono intercalate per aiutare a ripristinare la concentrazione.
- Pratica aggiuntiva suggerita: esercizio multi-periodo del rivenditore di gas naturale (su WeBeep), che combina inventario multi-periodo e logica di attivazione simile al problema della panetteria.
- La prossima lezione inizia con i grafi.
## Tecnica di Modellazione: Vincoli Logici con Variabili Continue
- Obiettivo: imporre "o x = 0 o x âˆˆ [a, b]" (con 0 âˆ‰ (a, b)) usando vincoli lineari e una variabile binaria.
- Formulazione lineare corretta:
  - Introdurre y âˆˆ {0,1}, dove y = 1 se x âˆˆ [a, b], y = 0 se x = 0.
  - Vincoli: aÂ·y â‰¤ x â‰¤ bÂ·y.
- Attenzioni chiave:
  - Non moltiplicare x per y nei vincoli (xy Ã¨ non lineare).
  - Una variabile binaria y Ã¨ sufficiente. Se si usano piÃ¹ binarie per codificare significati separati (es. "x â‰  0" e "x âˆˆ [a, b]"), aggiungere vincoli di consistenza per evitare contraddizioni.
- Promemoria Big-M:
  - Assicurare linearitÃ  e correttezza se si usa Big-M. Usare la M valida piÃ¹ piccola per mantenere la formulazione stretta.
- Sulle disuguaglianze strette:
  - Evitare disuguaglianze strette nei modelli MILP; usare â‰¤ o â‰¥ con uguaglianza ammessa per mantenere gli insiemi ammissibili chiusi e gli algoritmi stabili.
- Vincoli ridondanti:
  - Vincoli come x_i â‰¤ MÂ·y_i sono non necessari se il vincolo di intervallo giÃ  limita x_i per R_iÂ·y_i.
- Selezione Big-M:
  - Usare la M valida piÃ¹ piccola (es. M = 1 per rapporti normalizzati) per migliorare la forza del rilassamento LP.
## Esercizio 1: Selezione Finanziamenti di Ricerca (Modello Base)
- Dati:
  - Budget B.
  - N proposte; per ciascuna i: finanziamento minimo r_i, finanziamento massimo R_i (con 0 â‰¤ r_i â‰¤ R_i).
- Variabili:
  - y_i âˆˆ {0,1}: 1 se la proposta i Ã¨ finanziata, 0 altrimenti.
  - x_i â‰¥ 0: finanziamento allocato alla proposta i.
- Vincoli:
  - Budget: Î£_i x_i â‰¤ B.
  - Intervallo/attivazione: r_iÂ·y_i â‰¤ x_i â‰¤ R_iÂ·y_i per tutti gli i.
- Obiettivo:
  - Massimizzare il numero di proposte finanziate: massimizzare Î£_i y_i.
- Note:
  - Il vincolo x_i â‰¤ y_iÂ·M Ã¨ ridondante se R_i serve come M tramite x_i â‰¤ R_iÂ·y_i.
### Variante: Rapporti di Finanziamento Rispettosi della Classifica
- Regola di classifica aggiuntiva:
  - Se i Ã¨ classificata meglio di j e entrambe sono finanziate, imporre x_i/R_i â‰¥ x_j/R_j.
- Problema da gestire:
  - Quando una i meglio classificata non Ã¨ finanziata (x_i = 0) ma una j classificata peggio Ã¨ finanziata (x_j > 0), la disuguaglianza deve essere rilassata.
- Linearizzazione con Big-M:
  - Per i meglio di j: x_i/R_i â‰¥ x_j/R_j âˆ’ MÂ·(1 âˆ’ y_i).
  - PoichÃ© 0 â‰¤ x_j/R_j â‰¤ 1, scegliere M = 1 (stretto e sufficiente).
  - Effetto: Se y_i = 0, RHS â‰¤ 0, rendendo il vincolo non vincolante per x_i = 0.
- Guida sull'ambito:
  - Mantenere vincoli per tutte le coppie rilevanti (i, j) per ordine di classifica; limitarsi solo alle coppie adiacenti rischia di perdere casi transitivi se le proposte intermedie non sono finanziate.
## Esercizio 2: Produzione Panetteria Multi-Periodo con Setup e Inventario
- Orizzonte: T giorni.
- Dati:
  - Domanda d_t per ogni giorno t.
  - Limiti di produzione per ciclo: q (min), Q (max).
  - Costo di produzione c_t per unitÃ  al giorno t.
  - Costo di inventario g per unitÃ  per giorno.
  - Costo di setup S per giorno quando la produzione Ã¨ attivata.
- Variabili:
  - x_t â‰¥ 0: quantitÃ  di produzione al giorno t.
  - y_t âˆˆ {0,1}: 1 se la produzione avviene al giorno t (per vincolare l'intervallo), altrimenti 0.
  - z_t â‰¥ 0: livello di inventario alla fine del giorno t; porre z_0 = 0 (inizialmente vuoto).
- Vincoli:
  - Bilancio inventario (soddisfacimento esatto della domanda): z_t = z_{tâˆ’1} + x_t âˆ’ d_t per tutti i t.
  - Intervallo/attivazione: qÂ·y_t â‰¤ x_t â‰¤ QÂ·y_t per tutti i t.
- Obiettivo:
  - Minimizzare il costo totale: Î£_t (c_tÂ·x_t) + Î£_t (gÂ·z_t) + Î£_t (SÂ·y_t).
### Variante: Costo di Setup Solo Quando Si Riaccende Dopo una Pausa
- Cambiamento nella logica di setup: pagare S al giorno t solo se la produzione Ã¨ nuovamente attivata dopo essere stata spenta a tâˆ’1.
- Variabile aggiuntiva:
  - y'_t âˆˆ {0,1}: 1 se la produzione a t Ã¨ attivata dopo una pausa; 0 altrimenti.
- Obiettivo modificato:
  - Minimizzare Î£_t (c_tÂ·x_t) + Î£_t (gÂ·z_t) + Î£_t (SÂ·y'_t).
- Logica di collegamento (implicazione):
  - Se y_t = 1 e y_{tâˆ’1} = 0, allora y'_t deve essere 1; altrimenti y'_t puÃ² essere 0.
  - Vincolo lineare: y'_t â‰¥ y_t âˆ’ y_{tâˆ’1} per tutti i t.
  - Condizione iniziale: impostare y_0 per riflettere lo stato dell'impianto prima di t = 1 (0 se spento, 1 se acceso).
- Note:
  - PoichÃ© S > 0 e l'obiettivo minimizza il costo, y'_t sarÃ  impostato a 1 solo quando richiesto; altrimenti rimane a 0.
## Esercizio 3: Attivazione Corsi (Set Covering con Variante Preferenze)
- Classificazione problema: Set covering; strettamente correlato alla soddisfacibilitÃ  ("madre di tutti i problemi"), con set covering descritto come "padre" per l'ampia applicabilitÃ  nel riformulare molti problemi.
- Insiemi:
  - C: corsi (indice j).
  - S: studenti (indice i).
- Dati:
  - Costo di attivazione c_j per il corso j.
  - Per ogni studente i: F_i âŠ† C (corsi di prima scelta), S_i âŠ† C (corsi di seconda scelta).
  - Gli insiemi di preferenza degli studenti (S_i, F_i) sono input; non sono variabili decisionali e non devono essere vincolati dal modello.
- Variabili:
  - x_j âˆˆ {0,1}: 1 se il corso j Ã¨ attivato, 0 altrimenti.
- Requisito base (copertura):
  - Ogni studente i deve avere almeno un corso attivo in F_i âˆª S_i.
- Obiettivo:
  - Minimizzare il costo totale di attivazione: Î£_j c_jÂ·x_j.
- Vincoli:
  - Per ogni studente i: Î£_{jâˆˆF_i} x_j + Î£_{jâˆˆS_i} x_j â‰¥ 1.
### Variante: Tasso Minimo di Soddisfazione Prima Scelta
- Requisito: almeno il 50% degli studenti deve avere almeno un corso attivo da F_i.
- Variabili aggiuntive:
  - y_i âˆˆ {0,1}: 1 se lo studente i ha almeno un corso attivo di prima scelta; 0 altrimenti.
- Vincoli:
  - Collegamento prima scelta: Î£_{jâˆˆF_i} x_j â‰¥ y_i per tutti gli i.
    - Se y_i = 1, forza almeno un corso di prima scelta attivo per lo studente i.
    - Se y_i = 0, nessun corso di prima scelta Ã¨ richiesto per quello studente.
  - Soglia aggregata: Î£_i y_i â‰¥ |S| / 2.
  - Mantenere i vincoli di copertura originali per assicurare che ogni studente sia coperto da prima o seconda scelta.
- I vincoli si applicano alle decisioni, non agli input:
  - I vincoli devono governare le decisioni x_j e y_i.
  - Nessun vincolo Ã¨ imposto sugli insiemi dati S_i, F_i o le loro intersezioni; sono input fissi.
- Uguaglianza vs disuguaglianza:
  - Usare l'uguaglianza (somma = 1) non Ã¨ appropriato perchÃ© le scelte di attivazione sono combinatorie e un corso puÃ² soddisfare piÃ¹ studenti; la disuguaglianza (somma â‰¥ 1) mantiene flessibilitÃ  e ottimalitÃ .
- Prospettiva di applicazione selettiva:
  - Sostituire il RHS fisso "â‰¥ 1" con una variabile y_i disattiva selettivamente i vincoli quando applicarli tutti sarebbe infattibile o subottimale, analogo al recupero di fattibilitÃ  in sistemi inconsistenti di disuguaglianze.
## Chiarimenti Tecnici ed Esempi
- Accoppiamento combinatorio:
  - Un singolo corso appartenente agli insiemi di prima scelta di molti studenti puÃ² soddisfare piÃ¹ studenti simultaneamente; i vincoli di uguaglianza possono bloccare tali interazioni benefiche.
- Scenario di applicazione tipico:
  - In sistemi di disuguaglianze che sono congiuntamente inconsistenti, disattivare selettivamente un sottoinsieme (tramite variabili come y_i) ripristina la fattibilitÃ , rispecchiando la variante set covering.
## Processo della Lezione e Prossimi Argomenti
- Struttura per il futuro:
  - All'inizio di ogni lezione: un esercizio di modellazione.
  - Dopo l'esercizio: continuazione con nuovi argomenti.
- Contenuto prossimo:
  - La prossima lezione inizia con i grafi.
## ðŸ“… Prossimi Arrangiamenti e Azioni
- [ ] Caricare la registrazione precedente recuperata su WeBeep coprendo il contenuto dell'ultima sessione.
- [ ] Gli studenti devono accedere e rivedere il testo condiviso e gli esercizi su WeBeep.
- [ ] Gli studenti devono sottoporre soluzioni con un commento: "corretto," "sbagliato," o "controlla" (usare "controlla" con parsimonia quando Ã¨ necessaria una revisione).
- [ ] Gli studenti devono tentare la formulazione multi-periodo del rivenditore di gas naturale prima della prossima classe.
- [ ] Impostare esplicitamente lo stato y_0 nella variante panetteria per riflettere lo stato iniziale dell'impianto (spento/acceso).
- [ ] Mantenere vincoli di classifica a coppie completi (i, j) nella variante finanziamento piuttosto che solo coppie adiacenti; applicare M = 1 nella formulazione Big-M del vincolo di classifica.
- [ ] Rivedere l'esercizio sul trascurare vincoli (disattivazione selettiva usando variabili come y_i) e tentarlo indipendentemente prima della prossima classe.
- [ ] Iniziare il nuovo argomento sui grafi nella sessione di domani.
- [ ] Mantenere disciplina di modellazione: applicare vincoli solo alle variabili decisionali (x_j, y_i), non agli insiemi di input (S_i, F_i) o alle loro intersezioni.